<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" 
   "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
  <bean id = "smb-file-system-type"
        class = "com.google.enterprise.connector.filesystem.SmbFileSystemType">
    <!-- 
      Temporary flag to strip domains from ACE users and groups to match GSA.
    -->
    <constructor-arg value="true"/>
    <!-- 
      Flag to turn on/ off the last access time reset feature
    -->
    <constructor-arg value="true"/>
    <!--
      Security level to be considered for fetching ACL for a file
      There are 4 possible values for this parameter. These are in the order of
      Stronger to weaker security levels.
      FILEANDSHARE
      SHARE
      FILE
      FILEORSHARE 
      Default value is 'FILEANDSHARE'  since it is the most restrictive of all 4 scenarios. 
    -->
    <constructor-arg value="FILEANDSHARE"/>
    
  </bean>

  <bean id = "java-file-system-type"
        class = "com.google.enterprise.connector.filesystem.JavaFileSystemType">
  </bean>
  
  <bean id = "windows-file-system-type"
        class = "com.google.enterprise.connector.filesystem.WindowsFileSystemType">
    <!-- 
      Flag to turn on / off last access time reset feature
    -->
    <constructor-arg value="false"/>
  </bean>

  <bean id = "nfs-file-system-type"
        class = "com.google.enterprise.connector.filesystem.NfsFileSystemType">
  </bean>

  <bean id="file-system-type-registry"
    class="com.google.enterprise.connector.filesystem.FileSystemTypeRegistry">
    <constructor-arg>
      <list>
        <ref bean="java-file-system-type" />
        <ref bean="windows-file-system-type" />
        <ref bean="smb-file-system-type" />
        <ref bean="nfs-file-system-type" />
      </list>
    </constructor-arg>
  </bean>

  <bean id="path-parser" class = "com.google.enterprise.connector.filesystem.PathParser">
     <constructor-arg ref="file-system-type-registry"/>
  </bean>

  <bean id="FileConnectorType"
    class="com.google.enterprise.connector.filesystem.FileConnectorType">
        <constructor-arg ref="path-parser"/>
  </bean>
</beans>
